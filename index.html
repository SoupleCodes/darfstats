<!DOCTYPE html>
<html>

<head>
  <title>DarfStats</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Afacad:ital,wght@0,400..700;1,400..700&family=Noto+Color+Emoji&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Press+Start+2P&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <header></header>
  <main>
    <div class="page-banner">
      <div class="blur">
        <form class="searchbar-container">
          <span id="search-icon" class="icon clickable">&#xf002</span>
          <input id="user-search" type="search" placeholder="Search...">
        </form>
      </div>
    </div>
    <div class="select-users"></div>
    <br>
  </main>
  <footer>
    This website is totally not associated with Darflen whatsoever :D
  </footer>
  <script src="header.js"></script>
  <script>
    const userSearch = document.querySelector('#user-search');
    userSearch.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        event.preventDefault();
        const searchValue = userSearch.value;
        window.location.href = (`statistics/?u=${searchValue}`)
      }
    })

    const searchIcon = document.querySelector('#search-icon');
    searchIcon.addEventListener('click', () => {
      const searchValue = userSearch.value;
      window.location.href = (`statistics/?u=${searchValue}`)
    })

    function makeSelectUserDiv(user, avatar, filetype) {
      const selectUser = document.createElement('div');
      selectUser.classList.add('select-user');
      selectUser.addEventListener('click', () => {
          window.location = (`statistics/?u=${user}`)
      })
      selectUser.innerHTML =
          `
          <div class="img-screen">
            <img src="https://static.darflen.com/uploads/medium/${avatar}.${filetype ? filetype : 'jpg'}" alt=${user}>
           </div>
           <div class="user-header">${user}</div>
          `
      return selectUser;
    }

    const selectUsers = document.querySelector('.select-users');
        if (selectUsers) {
            selectUsers.appendChild(makeSelectUserDiv('598', '235e677229362fe52f782ffc'));
            selectUsers.appendChild(makeSelectUserDiv('Coolkat', 'be3f623904c9818ebb91b26a'));
            selectUsers.appendChild(makeSelectUserDiv('Cheesewhisk3rs', '123119e612f817c523971d1c'));
            selectUsers.appendChild(makeSelectUserDiv('fungi', 'f23768e13dc6c45898f21383'));
            selectUsers.appendChild(makeSelectUserDiv('JamieD132', '6451c76f1b3392393c350af2'));
            selectUsers.appendChild(makeSelectUserDiv('Paradock', '51a83900894641facb7ca85b'));
        }
  </script>
</body>
</html>